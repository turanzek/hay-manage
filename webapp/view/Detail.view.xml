<mvc:View displayBlock="true" controllerName="gubretas.mm.hay.controller.Detail" height="100%"	xmlns:uxap="sap.uxap" xmlns:micro="sap.suite.ui.microchart"	xmlns:mc2="sap.ui.comp.smartmicrochart" xmlns:mc="sap.suite.ui.microchart" xmlns:l="sap.ui.layout" xmlns:mvc="sap.ui.core.mvc"  xmlns="sap.m" xmlns:form="sap.ui.layout.form" xmlns:f="sap.f" xmlns:core="sap.ui.core" xmlns:t="sap.ui.table" xmlns:u="sap.ui.unified" xmlns:table="sap.ui.table"
	xmlns:upload="sap.m.upload">
	<uxap:ObjectPageLayout id="ObjectPageLayout" showTitleInHeaderContent="true" alwaysShowContentHeader="false" preserveHeaderStateOnScroll="false" headerContentPinnable="true" isChildPage="true" upperCaseAnchorBar="false" showFooter="true">
		<uxap:headerTitle>
			<uxap:ObjectPageDynamicHeaderTitle>
				<uxap:expandedHeading>
					<Title text="{application>EbelnPo} numaralı Satınalma Siparişi" wrapping="true" class="sapUiSmallMarginEnd" />

				</uxap:expandedHeading>

				<uxap:snappedHeading>
					<FlexBox wrap="Wrap" fitContainer="true" alignItems="Center">
						<FlexBox wrap="NoWrap" fitContainer="true" alignItems="Center" class="sapUiTinyMarginEnd">
							<Title text="{application>EbelnPo} numaralı Satınalma Siparişi" title="" titleStyle="H1" wrapping="true" class="sapUiTinyMarginEnd" />

						</FlexBox>
					</FlexBox>

				</uxap:snappedHeading>

				<uxap:navigationActions>
					<OverflowToolbarButton type="Transparent" icon="sap-icon://full-screen" press="handleFullScreen" id="enterFullScreenBtn" tooltip="Enter Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/fullScreen} !== null }" />
					<OverflowToolbarButton type="Transparent" icon="sap-icon://exit-full-screen" press="handleExitFullScreen" id="exitFullScreenBtn" tooltip="Exit Full Screen Mode" visible="{= ${/actionButtonsInfo/midColumn/exitFullScreen} !== null }" />
					<OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose" tooltip="Close middle column" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }" />
				</uxap:navigationActions>
				<!-- 
		<uxap:actions>
			<Button text="Edit" type="Emphasized" press="toggleAreaPriority" />
			<Button text="Delete" type="Transparent" />
			<Button text="Copy" type="Transparent" />
			<Button text="Toggle Footer" type="Transparent" press="onToggleFooter" />
			<Button icon="sap-icon://action" type="Transparent" />
		</uxap:actions> -->

			</uxap:ObjectPageDynamicHeaderTitle>
		</uxap:headerTitle>
		<uxap:headerContent>

			<HeaderContainer scrollStep="200" showDividers="false">

				<HBox class="sapUiSmallMarginEnd sapUiSmallMarginBottom">

					<VBox class="sapUiSmallMarginBottom">
						<!-- <Title class="sapUiTinyMarginBottom" text="Sipariş Bilgileri"></Title> -->
						<HBox class="sapUiTinyMarginBottom" renderType="Bare">
							<Label text="Satıcı" class="sapUiTinyMarginEnd" />
							<Text text="{application>Lifnr} {application>Name1}" />
						</HBox>

						<HBox class="sapUiTinyMarginBottom" renderType="Bare">
							<Label text="Satınalma grubu" class="sapUiTinyMarginEnd" />
							<Text text=" {application>Ekgrp}" />
						</HBox>
						<HBox class="sapUiTinyMarginBottom" renderType="Bare">
							<Label text="Oluşturan" class="sapUiTinyMarginEnd" />
							<Text text="{application>CreatePoUname}" />
						</HBox>

					</VBox>
				</HBox>

				<HBox class="sapUiSmallMarginEnd sapUiSmallMarginBottom">

					<VBox class="sapUiSmallMarginBottom">
						<!-- <Title class="sapUiTinyMarginBottom" text="Satınalma bilgileri"></Title> -->

						<HBox class="sapUiTinyMarginBottom" renderType="Bare">
							<Label text="Sözleşme geçerlilik başlangıcı" class="sapUiTinyMarginEnd" />
							<Text text="{ path : 'application>Kdatb' , type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }" />
						</HBox>

						<HBox class="sapUiTinyMarginBottom" renderType="Bare">
							<Label text="Sözleşme geçerlilik bitişi" class="sapUiTinyMarginEnd" />
							<Text text="{ path : 'application>Kdate' , type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }" />
						</HBox>

						<HBox class="sapUiTinyMarginBottom" renderType="Bare">
							<Label text="Oluşturma tarihi" class="sapUiTinyMarginEnd" />
							<Text text="{ path : 'application>CreatePoDate' , type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }" />
						</HBox>
					</VBox>
				</HBox>


				<HBox class="sapUiSmallMarginEnd sapUiSmallMarginBottom">

					<VBox class="sapUiSmallMarginBottom">
						<!-- <Title class="sapUiTinyMarginBottom" text="Sözleşme Bilgileri"></Title> -->
						<HBox class="sapUiTinyMarginBottom" renderType="Bare">
							<!-- <ProgressIndicator class="sapUiSmallMarginBottom" percentValue="30" displayValue="30%" showValue="true" state="None" /> -->
							<!-- <mc:RadialMicroChart size="M" percentage="89" valueColor="Good" press="press" class="sapUiSmallMargin"></mc:RadialMicroChart>
						    <mc:RadialMicroChart size="M" percentage="120" valueColor="Error" press="press" class="sapUiSmallMargin"></mc:RadialMicroChart> -->

							<FlexBox height="90px" width="170px" renderType="Bare">

								<mc:ComparisonMicroChart size="S" scale="%" class="sapUiSmallMargin" >
									<mc:data>
										<mc:ComparisonMicroChartData	title="Tutarsal" value="application>Details/results/0/AmountPercent" color="{=  ${application>Details/results/0/AmountPercent}  > 100 ? 'Error'  : 'Good'  }"/>
										<mc:ComparisonMicroChartData	title="Miktarsal" value="application>Details/results/0/QuantityPercent" color="{=  ${application>Details/results/0/QuantityPercent}  > 100 ? 'Error'  : 'Good'  }" />
									</mc:data>
								</mc:ComparisonMicroChart>
							</FlexBox>

						</HBox>
					</VBox>
				</HBox>


			</HeaderContainer>
			<Button text="Hakediş ekle" press="onPressAddServiceEntry" type="Emphasized" visible="true" icon="sap-icon://add" />
		</uxap:headerContent>

		<uxap:ObjectPageSection title="Hakediş bilgileri" titleUppercase="false" showTitle="false">
			<uxap:subSections>
				<uxap:ObjectPageSubSection showTitle="false">
					<uxap:blocks>
						<VBox items="{application>ServiceEntries/results}">
							<!-- {application>Details/0/UiConfig/ExpandActive} -->
							<Panel expandable="true" expanded="false" headerText="Hakediş {
								parts: [
							{ path:	'application>Sequence'} ],
							formatter:'.formatter.deleteLeadingZeros'
							
							}" width="auto" class="sapUiSizeCompact " >
							<Button type="Accept" text="Kaydet" fieldGroupIds="Approve" press="onPressAction" visible="{application>UiConfig/EditFieldsActive}" ></Button>

								<Panel  headerText="Fatura Bilgileri">

									<form:SimpleForm maxContainerCols="2" class="formHiddenTitle" editable="true" layout="ResponsiveGridLayout" emptySpanL="0" emptySpanM="0" columnsL="2" columnsM="2">
										<form:content>

											<core:Title text="Fatura Bilgileri" />
											<Label text="Fatura Tarihi" class="sapUiTinyMarginEnd" />
											<Input value="{ path : 'application>Budat' , type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }" editable="{application>UiConfig/EditFieldsActive}" required="true"/>
											<Label text="Fatura No" class="sapUiTinyMarginEnd" />
											<Input value=" {application>Xblnr}" editable="{application>UiConfig/EditFieldsActive}" required="true"/>
											<Label text="Fatura Tutarı ?" class="sapUiTinyMarginEnd" />
											<Input value=" {application>Xblnr}" editable="{application>UiConfig/EditFieldsActive}" required="true"/>

											<core:Title text="Personel Bilgileri" />
											<Label text="Personel No" class="sapUiTinyMarginEnd" />
											<Input value=" {application>Pernr}" showValueHelp="true" valueHelpOnly="true" valueHelpRequest=".onValueHelpRequested" required="true" editable="{application>UiConfig/EditFieldsActive}"/>
											<Label text="Personel Adı Soyadı" class="sapUiTinyMarginEnd" />
											<Input value=" {application>Sname}" editable="false" />
											<Label text="Organizasyon Tanımı" class="sapUiTinyMarginEnd" />
											<Input value=" {application>Orgeh}" editable="false" />

										</form:content>
									</form:SimpleForm>

								</Panel>

								<Panel expandable="false" headerText="Hizmetler">
									<Table inset="false" items="{application>Details/results/0/ServiceEntryItems/results}" mode="None" delete="onDeleteService">
										<headerToolbar>
											<OverflowToolbar>
												<content>
													<Button text="Hizmet ekle" press="onPressAddServiceItem" type="Emphasized" icon="sap-icon://add" visible="{application>Details/results/0/UiConfig/AddButtonActive}"/>
													<ToolbarSpacer />
												</content>
											</OverflowToolbar>
										</headerToolbar>
										<columns>
											<Column>
												<Text text="Hizmet" class="sapUiTinyMarginTop" />
											</Column>
											<Column>
												<Text text="Hizmet metni" class="sapUiTinyMarginTop" />
											</Column>
											<Column>
												<Text text="Şuana kadar yapılan hakediş" class="sapUiTinyMarginTop" />
											</Column>
											<Column demandPopin="true">
												<Text text="Gerçekleşen Birim Fiyat" class="sapUiTinyMarginTop" />
											</Column>
											<Column>
												<Text text="Gerçekleşen İş Miktarı" class="sapUiTinyMarginTop" />
											</Column>
											<Column>
												<Text text="Sözleşme Birim Fiyat" class="sapUiTinyMarginTop" />
											</Column>
											<Column>
												<Text text="Sözleşme Para Birimi" class="sapUiTinyMarginTop" />
											</Column>
										</columns>
										<!-- <items> -->
										<ColumnListItem>
											<cells>
												<Input value="{application>Srvpos}" editable="false" />
												<Input value="{application>Ktext1}" editable="false" />
												<Input value="{application>TotalAmount}" type="Number" editable="{application>UiConfig/EditFieldsActive}" required="true"/>

												<Input value="{application>EntryAmount}" type="Number" editable="{application>UiConfig/EditFieldsActive}"  required="true"/>

												<Input value="{application>Menge}" type="Number" editable="{application>UiConfig/EditFieldsActive}"  required="true"/>

												<Input value="{application>Brtwr}" editable="false" />

												<Input value="{application>Waers}" editable="false" />
											</cells>
										</ColumnListItem>
										<!-- </items> -->
									</Table>

								</Panel>


								<Panel headerText="Açıklamalar">
									<TextArea value="Lorem ipsum dolor st amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat" rows="4" width="60em" />

								</Panel>

								<Panel  headerText="Ek ekleme">
										<upload:UploadSet id="UploadSet" instantUpload="false" noDataText="Dosya yüklenmedi"
										 noDataDescription="Sürükleyip bırakarak ya da dosya yükle butonnunu kullanarak dosya yükleyebilirsiniz." terminationEnabled="false" maxFileNameLength="55" 
										 beforeUploadStarts="onBeforeUploadStarts" uploadCompleted="onUploadCompleted" class="sapUiResponsiveMargin" 
										 items="{application>Files/results}" uploadUrl="/sap/opu/odata/sap/ZMM_MAY_MANAGE_SRV/FilesSet" uploadEnabled="{application>Details/results/0/UiConfig/UploadEditable}" >
						<upload:items>
							<upload:UploadSetItem fileName="{application>FileName}" mediaType="{application>MimeType}" url="{application>FileUrl}" enabledEdit="{application>Editable}" enabledRemove="{application>Editable}"></upload:UploadSetItem>
						</upload:items>
					</upload:UploadSet>
								</Panel>


								<!-- <Panel expandable="true" width="auto" class="sapUiSizeCompact myCustomPanel">
									<headerToolbar>
										<OverflowToolbar active="true" press="onOverflowToolbarPress">
											<Title text="Hakediş 1 Açıklamalar" />
											<ToolbarSpacer />
											<Button icon="sap-icon://settings" />
											<Button icon="sap-icon://drop-down-list" />
										</OverflowToolbar>
									</headerToolbar>
									<content>
							
									</content>
								</Panel> -->
							</Panel>

						</VBox>
					</uxap:blocks>
				</uxap:ObjectPageSubSection>
			</uxap:subSections>
		</uxap:ObjectPageSection>

		<uxap:footer>
			<OverflowToolbar >
			<!-- visible="{= ${application>UiConfig/SendActive} === true ||
				${application>UiConfig/ApproveActive} === true ||
				${application>UiConfig/RejectActive} === true ||
				${application>UiConfig/ReviewActive} === true 
				  ? true : false }"> -->
				<ToolbarSpacer />


				<!-- <Button type="Ghost" text="Gönder" fieldGroupIds="Send"  press="onPressAction"></Button> -->
				<Button type="Accept" text="Onayla" fieldGroupIds="Approve" press="onPressAction"></Button>
				<Button type="Reject" text="Reddet" fieldGroupIds="Reject"  press="onPressAction"></Button>
				<!-- <Button type="Attention" text="Gözden Geçir" fieldGroupIds="Review" press="onPressAction"></Button> -->
			</OverflowToolbar>
		</uxap:footer>
	</uxap:ObjectPageLayout>

	
</mvc:View>